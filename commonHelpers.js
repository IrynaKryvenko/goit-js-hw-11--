import{a as f,i as l,S as p}from"./assets/vendor-b0d10f48.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const h="36655990-0724db180fb71d9be8c2c1bf3",g="https://pixabay.com/api/?key=",y="&image_type=photo&orientation=horizontal&safesearch=true&per_page=15";async function d(a,o){try{return(await f.get(g+h+`&q=${a}`+y+`&page=${o}`)).data}catch{throw new Error("Failed to fetch photos")}}function m(a,o){const i=a.map(({webformatURL:r,largeImageURL:e,tags:t,likes:n,views:c,comments:s,downloads:u})=>`
      <div class="photo-card">
        <a href="${e}">
          <img src="${r}" alt="${t}" loading="lazy" max-width="400px" />
        </a>
        <div class="info">
          <p class="info-item"><b>Likes</b><br>${n}</p>
          <p class="info-item"><b>Views</b><br>${c}</p>
          <p class="info-item"><b>Comments</b><br>${s}</p>
          <p class="info-item"><b>Downloads</b><br>${u}</p>
        </div>
      </div>
    `).join("");o.insertAdjacentHTML("beforeend",i)}document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector(".search-form"),o=document.querySelector(".gallery"),i=document.querySelector(".loader"),r=document.querySelector(".load-more");let e=1,t="";a.addEventListener("submit",async c=>{if(c.preventDefault(),t=a.elements.searchQuery.value.trim(),!!t){r.classList.remove("active"),o.innerHTML="",i.classList.add("active"),e=1;try{const{data:s}=await d(t,e);if(!s.total){i.classList.remove("active"),l.error({title:"Error",message:"No images found matching your search query. Please try again!",position:"topRight"}),a.reset();return}m(s.hits,o),i.classList.remove("active"),r.classList.add("active"),s.totalHits<15&&(r.classList.remove("active"),l.info({title:"Info",message:"We're sorry, but you've reached the end of the results.",position:"topRight"})),n.refresh()}catch(s){console.log(s),i.classList.remove("active"),l.error({title:"Error",message:"Failed to fetch images. Please try again later.",position:"topRight"})}}}),r.addEventListener("click",async()=>{const c=document.createElement("div");c.classList.add("loader-more"),r.insertAdjacentElement("afterend",c),r.classList.remove("active");try{const{data:s}=await d(t,++e);m(s.hits,o),c.remove(),r.classList.add("active"),n.refresh(),window.scrollBy({top:o.firstChild.getBoundingClientRect().height*2,behavior:"smooth"}),s.totalHits<e*15&&(r.classList.remove("active"),l.info({title:"Info",message:"We're sorry, but you've reached the end of the results.",position:"topRight"}))}catch(s){console.log(s),c.remove(),l.error({title:"Error",message:"Failed to load more images. Please try again later.",position:"topRight"})}});const n=new p(".gallery a",{captionsData:"alt",captionDelay:250})});
//# sourceMappingURL=commonHelpers.js.map
